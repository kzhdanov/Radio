(function(a){a.fn.knobKnob=function(d){var c=a.extend({snap:0,value:0,turn:function(){}},d||{});var b='<div class="knob">				<div class="top"></div>				<div class="base"></div>			</div>';return this.each(function(){var i=a(this);i.append(b);var f=a(".knob",i),k=f.find(".top"),l=-1,e=0,h=0,g=0,j=a(document);if(c.value>0&&c.value<=359){h=g=e=c.value;k.css("transform","rotate("+(e)+"deg)");c.turn(e/359)}f.on("mousedown touchstart",function(s){s.preventDefault();var t=f.offset();var n={y:t.top+f.height()/2,x:t.left+f.width()/2};var p,m,r,q,o=180/Math.PI;f.on("mousemove.rem touchmove.rem",function(u){u=(u.originalEvent.touches)?u.originalEvent.touches[0]:u;p=n.y-u.pageY;m=n.x-u.pageX;r=Math.atan2(p,m)*o;if(r<0){r=360+r}if(l==-1){l=r}q=Math.floor((r-l)+h);if(q<0){q=360+q}else{if(q>359){q=q%360}}if(c.snap&&q<c.snap){q=0}if(Math.abs(q-g)>180){return false}e=q;g=q;k.css("transform","rotate("+(e)+"deg)");c.turn(e/360)});j.on("mouseup.rem  touchend.rem",function(){f.off(".rem");j.off(".rem");h=e;l=-1})})})}})(jQuery);